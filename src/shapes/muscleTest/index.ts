import { SkillNode, NodePosition, ShapeParams } from '../../types/skill';

// Provided normalized coordinates for the Muscle Test shape
const MUSCLE_TEST_COORDS = [
  { "x": 0.11666666666666667, "y": 0.35714285714285715 },
  { "x": 0.15, "y": 0.35714285714285715 },
  { "x": 0.18333333333333332, "y": 0.35714285714285715 },
  { "x": 0.21666666666666667, "y": 0.35714285714285715 },
  { "x": 0.25, "y": 0.35714285714285715 },
  { "x": 0.2833333333333333, "y": 0.35714285714285715 },
  { "x": 0.2833333333333333, "y": 0.40476190476190477 },
  { "x": 0.31666666666666665, "y": 0.40476190476190477 },
  { "x": 0.35, "y": 0.40476190476190477 },
  { "x": 0.35, "y": 0.4523809523809524 },
  { "x": 0.38333333333333336, "y": 0.4523809523809524 },
  { "x": 0.38333333333333336, "y": 0.5 },
  { "x": 0.11666666666666667, "y": 0.40476190476190477 },
  { "x": 0.08333333333333333, "y": 0.40476190476190477 },
  { "x": 0.08333333333333333, "y": 0.4523809523809524 },
  { "x": 0.08333333333333333, "y": 0.5 },
  { "x": 0.08333333333333333, "y": 0.5476190476190477 },
  { "x": 0.08333333333333333, "y": 0.5952380952380952 },
  { "x": 0.08333333333333333, "y": 0.6428571428571429 },
  { "x": 0.11666666666666667, "y": 0.6428571428571429 },
  { "x": 0.11666666666666667, "y": 0.6904761904761905 },
  { "x": 0.11666666666666667, "y": 0.7380952380952381 },
  { "x": 0.15, "y": 0.7380952380952381 },
  { "x": 0.18333333333333332, "y": 0.7380952380952381 },
  { "x": 0.21666666666666667, "y": 0.7380952380952381 },
  { "x": 0.25, "y": 0.7380952380952381 },
  { "x": 0.2833333333333333, "y": 0.7380952380952381 },
  { "x": 0.2833333333333333, "y": 0.6904761904761905 },
  { "x": 0.31666666666666665, "y": 0.7380952380952381 },
  { "x": 0.31666666666666665, "y": 0.7857142857142857 },
  { "x": 0.35, "y": 0.7857142857142857 },
  { "x": 0.38333333333333336, "y": 0.7857142857142857 },
  { "x": 0.38333333333333336, "y": 0.8333333333333334 },
  { "x": 0.4166666666666667, "y": 0.8333333333333334 },
  { "x": 0.45, "y": 0.8333333333333334 },
  { "x": 0.48333333333333334, "y": 0.8333333333333334 },
  { "x": 0.5166666666666667, "y": 0.8333333333333334 },
  { "x": 0.55, "y": 0.8333333333333334 },
  { "x": 0.5833333333333334, "y": 0.8333333333333334 },
  { "x": 0.6166666666666667, "y": 0.8333333333333334 },
  { "x": 0.65, "y": 0.8333333333333334 },
  { "x": 0.6833333333333333, "y": 0.8333333333333334 },
  { "x": 0.7166666666666667, "y": 0.8333333333333334 },
  { "x": 0.75, "y": 0.8333333333333334 },
  { "x": 0.7833333333333333, "y": 0.7857142857142857 },
  { "x": 0.8166666666666667, "y": 0.7857142857142857 },
  { "x": 0.85, "y": 0.7857142857142857 },
  { "x": 0.8833333333333333, "y": 0.7857142857142857 },
  { "x": 0.8833333333333333, "y": 0.7380952380952381 },
  { "x": 0.9166666666666666, "y": 0.7380952380952381 },
  { "x": 0.9166666666666666, "y": 0.6904761904761905 },
  { "x": 0.9166666666666666, "y": 0.6428571428571429 },
  { "x": 0.9166666666666666, "y": 0.5952380952380952 },
  { "x": 0.9166666666666666, "y": 0.5476190476190477 },
  { "x": 0.9166666666666666, "y": 0.5 },
  { "x": 0.8833333333333333, "y": 0.5 },
  { "x": 0.8833333333333333, "y": 0.4523809523809524 },
  { "x": 0.8833333333333333, "y": 0.40476190476190477 },
  { "x": 0.85, "y": 0.40476190476190477 },
  { "x": 0.85, "y": 0.35714285714285715 },
  { "x": 0.8166666666666667, "y": 0.35714285714285715 },
  { "x": 0.8166666666666667, "y": 0.30952380952380953 },
  { "x": 0.7833333333333333, "y": 0.2619047619047619 },
  { "x": 0.7833333333333333, "y": 0.21428571428571427 },
  { "x": 0.75, "y": 0.21428571428571427 },
  { "x": 0.75, "y": 0.16666666666666666 },
  { "x": 0.7166666666666667, "y": 0.16666666666666666 },
  { "x": 0.7166666666666667, "y": 0.11904761904761904 },
  { "x": 0.6833333333333333, "y": 0.11904761904761904 },
  { "x": 0.65, "y": 0.11904761904761904 },
  { "x": 0.65, "y": 0.07142857142857142 },
  { "x": 0.6166666666666667, "y": 0.07142857142857142 },
  { "x": 0.5833333333333334, "y": 0.07142857142857142 },
  { "x": 0.55, "y": 0.07142857142857142 },
  { "x": 0.5166666666666667, "y": 0.07142857142857142 },
  { "x": 0.48333333333333334, "y": 0.07142857142857142 },
  { "x": 0.45, "y": 0.07142857142857142 },
  { "x": 0.45, "y": 0.11904761904761904 },
  { "x": 0.4166666666666667, "y": 0.11904761904761904 },
  { "x": 0.4166666666666667, "y": 0.16666666666666666 },
  { "x": 0.38333333333333336, "y": 0.16666666666666666 },
  { "x": 0.38333333333333336, "y": 0.21428571428571427 },
  { "x": 0.38333333333333336, "y": 0.2619047619047619 },
  { "x": 0.4166666666666667, "y": 0.2619047619047619 },
  { "x": 0.4166666666666667, "y": 0.30952380952380953 },
  { "x": 0.45, "y": 0.30952380952380953 },
  { "x": 0.48333333333333334, "y": 0.30952380952380953 },
  { "x": 0.5166666666666667, "y": 0.30952380952380953 },
  { "x": 0.5166666666666667, "y": 0.2619047619047619 },
  { "x": 0.55, "y": 0.2619047619047619 },
  { "x": 0.5833333333333334, "y": 0.2619047619047619 },
  { "x": 0.6166666666666667, "y": 0.2619047619047619 },
  { "x": 0.65, "y": 0.30952380952380953 },
  { "x": 0.65, "y": 0.35714285714285715 },
  { "x": 0.6833333333333333, "y": 0.35714285714285715 },
  { "x": 0.6833333333333333, "y": 0.40476190476190477 },
  { "x": 0.65, "y": 0.40476190476190477 },
  { "x": 0.65, "y": 0.4523809523809524 },
  { "x": 0.6166666666666667, "y": 0.4523809523809524 },
  { "x": 0.6166666666666667, "y": 0.5 },
  { "x": 0.6166666666666667, "y": 0.5476190476190477 },
  { "x": 0.65, "y": 0.5476190476190477 },
  { "x": 0.65, "y": 0.5952380952380952 },
  { "x": 0.5833333333333334, "y": 0.5476190476190477 },
  { "x": 0.5833333333333334, "y": 0.5 },
  { "x": 0.55, "y": 0.4523809523809524 },
  { "x": 0.5166666666666667, "y": 0.4523809523809524 },
  { "x": 0.48333333333333334, "y": 0.4523809523809524 },
  { "x": 0.45, "y": 0.4523809523809524 },
  { "x": 0.45, "y": 0.5 },
  { "x": 0.4166666666666667, "y": 0.5 }
];

export function generateMuscleTestLayout(nodes: SkillNode[], params: ShapeParams): NodePosition[] {
  const { width, height } = params;
  // Use as many nodes as we have coordinates for, or repeat if more nodes
  return nodes.slice(0, MUSCLE_TEST_COORDS.length).map((node, i) => ({
    id: node.id,
    x: MUSCLE_TEST_COORDS[i].x * width,
    y: MUSCLE_TEST_COORDS[i].y * height,
    brightness: 0.7,
    neighbors: [],
    score: node.score,
  }));
} 